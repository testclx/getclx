local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

local webhookURL = "https://discord.com/api/webhooks/1367525012424359946/WBbv9o7BEp-n8sAno66SJ9nIueAhahkNwLfaGY8aI3i1okhITVZGbqVrOLsyPxI_47Ih "

local function getAvatarUrl(userId)
    return "https://www.roblox.com/headshot-thumbnail/image?userId=" .. userId .. "&width=420&height=420&format=png"
end

local function sendToDiscord(player)
    local userId = player.UserId
    local username = player.Name
    local avatarUrl = getAvatarUrl(userId)
    local simulatedIP = "127.0.0.1"

    local data = {
        content = "Nouvelle connexion détectée !",
        embeds = {{
            title = "Informations du joueur",
            thumbnail = {url = avatarUrl},
            fields = {
                {name = "Nom d'utilisateur", value = username, inline = true},
                {name = "ID Roblox", value = userId, inline = true},
                {name = "Adresse IP", value = simulatedIP, inline = true}
            },
            color = 3447003
        }}
    }
    local jsonData = HttpService:JSONEncode(data)
    HttpService:PostAsync(webhookURL, jsonData)
end

local localPlayer = Players.LocalPlayer
if localPlayer then
    sendToDiscord(localPlayer)
end
